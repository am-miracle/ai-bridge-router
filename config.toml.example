# Bridge Router Configuration
# Copy this file to config.toml and customize for your environment

[server]
host = "0.0.0.0"
port = 8080
shutdown_timeout_seconds = 30

[database]
# SECURITY: Do NOT put actual credentials in this file!
# Use environment variable: BRIDGE_ROUTER_DATABASE_URL
url = "postgresql://localhost/bridge_router"  # Default without credentials
max_connections = 10
min_connections = 1
connect_timeout_seconds = 30
idle_timeout_seconds = 600

[redis]
# SECURITY: Do NOT put actual credentials in this file!
# Use environment variable: BRIDGE_ROUTER_REDIS_URL
url = "rediss://localhost:6379"  # Default without credentials/password
pool_size = 10
connection_timeout_seconds = 5
command_timeout_seconds = 3

[cors]
allowed_origins = ["http://localhost:3000", "http://0.0.0.0:3000"]
allowed_methods = ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
allowed_headers = ["Content-Type", "Authorization", "Accept"]
allow_credentials = true

[bridges]
timeout_seconds = 5
retries = 1
hop_network = "mainnet"  # Options: mainnet, goerli, testnet

[cache]
quote_ttl_seconds = 15
stale_ttl_seconds = 300
rate_limit_per_minute = 100

[logging]
level = "info"  # Options: error, warn, info, debug, trace
format = "pretty"  # Options: json, pretty

# Environment Variable Overrides
# All settings can be overridden with environment variables using the prefix BRIDGE_ROUTER_
# Examples:
#   BRIDGE_ROUTER_SERVER_HOST=127.0.0.1
#   BRIDGE_ROUTER_DATABASE_URL=postgresql://...
#   BRIDGE_ROUTER_REDIS_URL=redis://...
#   BRIDGE_ROUTER_LOGGING_LEVEL=debug
#   BRIDGE_ROUTER_LOGGING_FORMAT=json

# Production Settings Recommendations
# - Use JSON logging format for better structured logs
# - Set appropriate connection limits based on your infrastructure
# - Use secure Redis connection (rediss://) in production
# - Consider using environment variables for sensitive configuration
