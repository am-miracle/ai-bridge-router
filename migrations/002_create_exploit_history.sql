-- Create exploit_history table for storing bridge security incidents
CREATE TABLE exploit_history (
    id SERIAL PRIMARY KEY,
    bridge TEXT NOT NULL,
    incident_date DATE NOT NULL,
    loss_amount NUMERIC(20, 2), -- amount in USD, allows for very large numbers
    description TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT NOW()
);

-- Create an index on bridge for faster lookups
CREATE INDEX idx_exploit_history_bridge ON exploit_history(bridge);

-- Create an index on incident_date for temporal queries
CREATE INDEX idx_exploit_history_date ON exploit_history(incident_date);

-- Create an index on loss_amount for sorting by impact
CREATE INDEX idx_exploit_history_loss ON exploit_history(loss_amount);
